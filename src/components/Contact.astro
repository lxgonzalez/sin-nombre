---
import SectionHeader from "./SectionHeader.astro";
import contactData from "../data/contact.json";
import EnvelopeIcon from "astro-heroicons/outline/Envelope.astro";
import PhoneIcon from "astro-heroicons/outline/Phone.astro";
import ChatBubbleLeftRightIcon from "astro-heroicons/outline/ChatBubbleLeftRight.astro";
import Check from "astro-heroicons/solid/Check.astro";
import PaperAirplane from "astro-heroicons/outline/PaperAirplane.astro";
const { section, contactInfo, contactMethods, form } = contactData;

// Map icon names to components
const iconMap = {
    envelope: EnvelopeIcon,
    phone: PhoneIcon,
    chat: ChatBubbleLeftRightIcon,
};
---

<section
    class="py-20 bg-gradient-to-b from-secondary-100 via-secondary-90 to-primary-100"
>
    <div class="container mx-auto px-6">
        <div class="max-w-6xl mx-auto">
            <!-- Section header -->
            <SectionHeader title={section.title} subtitle={section.subtitle} />

            <div class="grid lg:grid-cols-2 gap-12">
                <!-- Contact Info -->
                <div class="space-y-8">
                    <h3 class="text-xl font-bold text-white">
                        {contactInfo.title}
                    </h3>

                    <!-- Contact Cards -->
                    <div>
                        {
                            contactMethods.map((method) => {
                                const IconComponent = iconMap[method.icon];
                                return (
                                    <div class="flex items-start space-x-4 py-4">
                                        <div class="w-12 h-12 bg-primary-100/20 rounded-lg flex items-center justify-center flex-shrink-0">
                                            {IconComponent && (
                                                <IconComponent class="w-6 h-6 text-primary-100" />
                                            )}
                                        </div>
                                        <div>
                                            <h4 class="text-white font-semibold mb-1">
                                                {method.title}
                                            </h4>
                                            <a
                                                href={method.href}
                                                class="text-white-100/40 hover:text-primary-100/80"
                                            >
                                                {method.value}
                                            </a>
                                        </div>
                                    </div>
                                );
                            })
                        }
                    </div>

                    <div
                        class="bg-gradient-to-r from-primary-100 p-6 rounded-2xl space-y-4 text-white hidden md:block"
                    >
                        <h3
                            class="text-xl
                        lg:text-2xl
                        font-semibold"
                        >
                            ¿Por qué elegirnos?
                        </h3>

                        <ul class="space-y-2">
                            <li class="flex items-center gap-2">
                                <Check class="text-success-100" width={20} />
                                <span>Experiencia comprobada</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <Check class="text-success-100" width={20} />
                                <span>Tecnología de vanguardia</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <Check class="text-success-100" width={20} />
                                <span>Soporte continuo</span>
                            </li>
                            <li class="flex items-center gap-2">
                                <Check class="text-success-100" width={20} />
                                <span>Precios competitivos</span>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- Contact Form -->
                <div
                    class="bg-slate-800 rounded-2xl p-8 border border-slate-700"
                >
                    <h3 class="text-2xl font-bold text-white mb-6">
                        {form.title}
                    </h3>

                    <form class="space-y-6">
                        <div class="grid md:grid-cols-2 gap-6">
                            {
                                form.fields.map((field) => (
                                    <div class={field.gridCol}>
                                        <label class="block text-gray-300 text-sm font-medium mb-2">
                                            {field.label}
                                        </label>
                                        {field.type === "textarea" ? (
                                            <textarea
                                                id={field.id}
                                                rows={field.rows}
                                                class="w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-primary-100 focus:ring-1 focus:ring-primary-100 transition-all duration-300 resize-none"
                                                placeholder={field.placeholder}
                                                required={field.required}
                                            />
                                        ) : (
                                            <input
                                                type={field.type as any}
                                                id={field.id}
                                                class="w-full px-4 py-3 bg-slate-700 border border-slate-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-primary-100 focus:ring-1 focus:ring-primary-100 transition-all duration-300"
                                                placeholder={field.placeholder}
                                                required={field.required}
                                            />
                                        )}
                                    </div>
                                ))
                            }
                        </div>

                        <button
                            type="submit"
                            class="w-full py-4 bg-primary-100 text-white font-semibold rounded-xl transition-all duration-300 transform hover:scale-105"
                        >
                            <PaperAirplane
                                class="inline-block mr-2"
                                width={16}
                            />
                            {form.submitButton.text}
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</section>
